<!DOCTYPE>
<html>
<head>
    <title>锁定</title>
    <meta http-equiv="X-UA-Compatible" charset="utf-8"/>
    <script src="../js/jquery.js" type="text/javascript"></script>
<style type="text/css">

table td, th{
    text-align: center;
    border:#dee9ef 1px solid;
}

</style>
<script> 
jQuery(function(){
    nayiLock("aDiv");
    //支持多级表头的锁定
    nayiLock("bDiv");

    //支持对多个div的锁定
}) 
//scrollDivId   滚动的div的id
function nayiLock(scrollDivId){
    jQuery("#" + scrollDivId).scroll(function(){
        var left = jQuery("#" + scrollDivId).scrollLeft();
        jQuery(this).find(".lock-col").each(function(){
            jQuery(this).css({"position":"relative","left":left,"background-color":"white","z-index":jQuery(this).hasClass("lock-row")?20:10});
        });

        var top = jQuery("#" + scrollDivId).scrollTop();
        jQuery(this).find(".lock-row").each(function(){
            jQuery(this).css({"position":"relative","top":top,"background-color":"white","z-index":jQuery(this).hasClass("lock-col")?20:9});
        });
    });
}


</script>
</head>
<body id="myBody">

<div id="aDiv" style="width:600px;height:200px;overflow:auto;">
    <div class="lock-row lock-col" >
        <span id="span1" >span1</span>
    </div>
    <table id="table1" style="width:800px;height:250px;" >
        <thead>
            <tr>
                <th id="testTh" class="lock-col lock-row">序号</th>
                <th class="lock-col lock-row">表头1</th>
                <th class="lock-row">表头2</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="lock-col">1</td>
                <td class="lock-col">test</td>
                <td>test</td>
            </tr>
            <tr>
                <td class="lock-col">2</td>
                <td class="lock-col">test</td>
                <td>test</td>
            </tr>
        </tbody>    
    </table>
</div>

<div id="bDiv" style="width:900px;height:100px;overflow:auto;">

    <table id="table1" style="width:800px;height:150px;">
        <thead>
            <tr>
                <th colspan="2" class="lock-col lock-row">
                    colspan="2"
                </th>
                <th class="lock-row">
                    colspan="1"
                </th>
            </tr>

            <tr>
                <th id="testTh" class="lock-col lock-row">序号</th>
                <th class="lock-col lock-row">表头133333333333</th>
                <th class="lock-row">表头2</th>

            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="lock-col">133355555333</td>
                <td class="lock-col">test</td>
                <td>test</td>
            </tr>
            <tr>
                <td class="lock-col">2</td>
                <td class="lock-col">test</td>
                <td>test</td>
            </tr>
        </tbody>    
    </table>
</div>

</body>
</html>